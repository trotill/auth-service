{"openapi":"3.0.0","paths":{"/users":{"post":{"operationId":"UsersController_create","summary":"Создать пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"204":{"description":""}},"tags":["Управление пользователями"]},"get":{"operationId":"UsersController_getAll","summary":"Получить список пользователей","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAllParam"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserList"}}}}},"tags":["Управление пользователями"]}},"/users/{login}":{"put":{"operationId":"UsersController_update","summary":"Изменить пользователя","parameters":[{"name":"login","required":true,"in":"path","example":"admin","description":"логин","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"204":{"description":""}},"tags":["Управление пользователями"]},"delete":{"operationId":"UsersController_delete","summary":"Удалить пользователя","parameters":[{"name":"login","required":true,"in":"path","example":"admin","description":"логин","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["Управление пользователями"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"Залогиниться","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginParams"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWT_Pair"}}}}},"tags":["Авторизация"]}},"/auth/logout/{login}":{"post":{"operationId":"AuthController_logout","summary":"Разлогиниться","parameters":[{"name":"login","required":true,"in":"path","example":"admin","description":"логин","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["Авторизация"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","summary":"Получить новый access токен","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWT_Refresh"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWT_Refresh"}}}}},"tags":["Авторизация"]}},"/auth":{"get":{"operationId":"AuthController_whoAmi","summary":"Получить информацию о пользователе по токену","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserItem"}}}}},"tags":["Авторизация"]}}},"info":{"title":"Authority service openApi","description":"API Docs","version":"0.0.1","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"UserCreate":{"type":"object","properties":{"login":{"type":"string","example":"admin","description":"логин"},"firstName":{"type":"string","example":"Иван","description":"имя"},"lastName":{"type":"string","example":"Иванов","description":"фамилия"},"email":{"type":"string","example":"example@gmail.com","description":"Почта"},"role":{"type":"string","example":"admin","description":"роль","enum":["admin","operator"]},"locked":{"type":"boolean","example":1,"description":"Заблокирован - true/ разблокирован - false"},"password":{"type":"string","example":"384633ad37a18b3b4fc5bf3e371d6e9f","description":"Пароль+логин в md5"},"createdAt":{"type":"string","description":"Время создания"},"updatedAt":{"type":"string","description":"Время обновления"}},"required":["login","firstName","lastName","email","role","locked"]},"GetAllParam":{"type":"object","properties":{"limit":{"type":"number","example":0,"default":200000,"description":"Лимит","minimum":1},"offset":{"type":"number","example":0,"default":0,"description":"Смещение","minimum":0},"sort":{"type":"string","description":"Столбец сортировки","default":"login"},"order":{"type":"string","description":"Сортировка. Направление. \"ASC\" - прямое, \"DESC\" - обратное.","default":"ASC","enum":["ASC","DESC"]}},"required":["limit","offset"]},"UserItem":{"type":"object","properties":{"login":{"type":"string","example":"admin","description":"логин"},"firstName":{"type":"string","example":"Иван","description":"имя"},"lastName":{"type":"string","example":"Иванов","description":"фамилия"},"email":{"type":"string","example":"example@gmail.com","description":"Почта"},"role":{"type":"string","example":"admin","description":"роль","enum":["admin","operator"]},"locked":{"type":"boolean","example":1,"description":"Заблокирован - true/ разблокирован - false"},"createdAt":{"type":"string","description":"Время создания"},"updatedAt":{"type":"string","description":"Время обновления"}},"required":["login","firstName","lastName","email","role","locked"]},"UserList":{"type":"object","properties":{"items":{"example":[],"description":"Список пользователей","type":"array","items":{"$ref":"#/components/schemas/UserItem"}},"count":{"type":"number","example":0,"description":"Всего пользователей соответсвуют фильтру"}},"required":["items","count"]},"LoginParams":{"type":"object","properties":{"login":{"type":"string","example":"admin","description":"логин"},"password":{"type":"string","example":"3a4ebf16a4795ad258e5408bae7be341","description":"Пароль+логин в md5 (в примере логин - admin пароль - 12345678 md5sum(admin12345678))"}},"required":["login"]},"JWT_Pair":{"type":"object","properties":{"refreshToken":{"type":"string","description":"refresh токен"},"accessToken":{"type":"string","description":"access токен"}},"required":["refreshToken","accessToken"]},"JWT_Refresh":{"type":"object","properties":{"refreshToken":{"type":"string","description":"refresh токен"}},"required":["refreshToken"]}}}}